<?php
namespace Moto\Application\Pages; use Moto\Application\Model; use Moto\Application\Model\AbstractModel; class PagePropertiesMeta extends AbstractModel { protected $_fields = array( 'keywords' => array( 'default' => null ), 'description' => array( 'default' => null ), 'noindex' => array( 'default' => false ), 'nofollow' => array( 'default' => false ), 'hideCanonical' => array( 'default' => false ), 'noodp' => array( 'default' => false ), 'noydir' => array( 'default' => false ), 'robots' => array( 'virtual' => true, 'default' => '', ), 'canonical_url' => array( 'default' => '' ), ); protected $_skipDefaults = true; public function _postExchangeArray($data) { if ($this->noindex || $this->nofollow ) { $robots = array($this->noindex ? 'noindex' : 'index', $this->nofollow ? 'nofollow' : 'follow'); $this->robots = implode(', ', $robots); } } } 