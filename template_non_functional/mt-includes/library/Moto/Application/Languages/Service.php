<?php
namespace Moto\Application\Languages; use Moto\Json\Server; use Moto\Json\Request; use Moto\Json\Response; use Moto; class Service extends Moto\Service\AbstractStaticService { protected static $_resourceName = 'languages'; protected static $_resourcePrivilegesMap = array( 'getList' => 'get', ); public static function getList($request = null) { $table = new LanguagesTable(); $items = $table->getList(); if (!$items) { throw new Server\Exception(Moto\System\Exception::ERROR_NOT_FOUND_MESSAGE, Moto\System\Exception::ERROR_NOT_FOUND_CODE); } $result = new Response\Collection($items); return $result; } }